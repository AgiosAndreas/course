<!DOCTYPE html>

<head>
	<meta charset="utf-8">
	<title>ex-05-02</title>
</head>

<body>
	<script>
		function sort(input) {

			var input = input.replace(/\s+/g, ' ').trim();

			if (input.length == 0) {
				return [];
			}

			var arrUnsorted = input.split(" ");

			var arrObj = [];
			for (var i = 0; i < arrUnsorted.length; i++) {
				arrObj.push({
					weight: arrUnsorted[i] * (i + 1),
					number: parseInt(arrUnsorted[i], 10)
				});
			}

			function compareObjects(a, b) {
				if (a.weight != b.weight) return (b.weight - a.weight);
				return (b.number - a.number);
			};

			arrObj.sort(compareObjects);

			function output(array) {
				return array.number;
			}
			return arrObj.map(output);
		}

	</script>
</body>
