<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Array sort</title>
</head>
<body>
    <script>

    function sort(input) {
        
        if (typeof(input) !== "string") {
            return null; 
        }
        
        input = input.replace(/\s+/g, " ").trim();
        
        if (input.length == 0) {
            return [];
        }

        // Create object array with pair { value, weight } of each element
        var objectArr = input.split(" ")
                            .map(function(item) { return parseInt(item, 10) })
                            .map(function(item, i) {
                                return { value: item, weight: (i+1) * item };
                            });

        // Sort object array and convert to array of numbers
        var numberArr = objectArr
                .sort(function(a, b) {
                    if ( b.weight === a.weight ) {
                        return b.value - a.value;
                    }
                    return b.weight - a.weight;
                })
                .map(function(item) { return item.value; } );
        
        return numberArr;
    }

    // [25, 30, 3, 5]
    console.log(sort("5  3 30 25 ")); 
    
    // [3, 2, 3]
    console.log(sort(" 3 3 2 "));

    // [2, 3, 2, 1, -1, -3]
    console.log(sort(" -1 2 3 1 2 -3 "));

    // []
    console.log(sort("   "));

    // [3, 2, 1]
    console.log(sort(" 1 3 2 "));

    // My test
    console.log(sort(" 3 3 2 2  7  1 8  9"));
    </script>
</body>
</html>
