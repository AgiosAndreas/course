<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>ex-05-02</title>
</head>

<body>
	<script>
		function sort(input) {
			var items = [],
				input = input.trim().replace(/\s{2,}/g, " ");

			if (0 == input.length) {
				return [];
			}

			var numberStr = input.split(" ");

			for (var i = 0; i < numberStr.length; i++) {
				items.push({
					weight: numberStr[i] * (i + 1),
					value: numberStr[i]
				});
			}

			items.sort(function(a, b) {
				var res = b.weight - a.weight;
				return res === 0 ? b.value - a.value : res;
				});

			return items.map(function(item) {
				return +item.value;
			});
		}
		alert(
			"\"5  3 30 25 \" - \"" + sort("5  3 30 25 ") + "\"\n" +
			"\" 3 3 2 \" - \"" + sort(" 3 3 2 ") + "\"\n" +
			"\" -1 2 3 1 2 -3 \" - \"" + sort(" -1 2 3 1 2 -3 ") + "\"\n" +
			"\"   \" - \"" + sort("   ") + "\"\n" +
			"\" 1 3 2 \" - \"" + sort(" 1 3 2 ") + "\"\n"
		);
	</script>
</body>

</html>
